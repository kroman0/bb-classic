*** Settings ***

Library  Selenium2Library  timeout=15  implicit_wait=0.1

Resource  keywords.txt

Suite Setup  Start app

Suite Teardown  Stop app

Test Setup  Start Browser For Test

Test Teardown  Close All Browsers and Report Status


*** Test Cases ***

Login page should have inputs and validate submit
    [Tags]  login  compare  general
    Given an bb-classic app login page
    Then page should contain  Please enter you credentials
    and page should contain element  name=subdomain
    and page should contain element  name=username
    and page should contain element  name=password
#    Capture Page Screenshot  login.png
#    Compare screenshot to base  ${base_login}
    When enter subdomain field
    and click button  Log in
    Then page should contain  Please enter all fields!
    When enter username field
    and click button  Log in
    Then page should contain  Please enter all fields!
    When enter password field
    and click button  Log in
    Then Wait Until Page Contains  First Last

Navigation menu should work correctly
    [Tags]  navigation  compare  general
    Given an bb-classic app
    When click on "Projects" link in navbar
    Then location should be  ${APP_URL}/#projects
    and heading should be "Projects"
#    Sleep  0.5
#    Capture Page Screenshot  projects.png
#    Compare screenshot to base  ${base_projects}
    When click on "Companies" link in navbar
    Then location should be  ${APP_URL}/#companies
    and heading should be "Companies"
#    Sleep  0.5
#    Capture Page Screenshot  companies.png
#    Compare screenshot to base  ${base_companies}
    When click on "To-Dos" link in navbar
    Then location should be  ${APP_URL}/#todos
    and heading should be "My to-dos"
#    Sleep  0.5
#    Capture Page Screenshot  todos.png
#    Compare screenshot to base  ${base_todos}
    When click on "Time" link in navbar
    Then location should be  ${APP_URL}/#time_report
    and heading should be "Time report"
#    Sleep  0.5
#    Capture Page Screenshot  time_report.png
#    Compare screenshot to base  ${base_time_report}
    When click on "People" link in navbar
    Then location should be  ${APP_URL}/#people
    and heading should be "People"
#    Sleep  0.5
#    Capture Page Screenshot  people.png
#    Compare screenshot to base  ${base_people}


*** Keywords ***

an bb-classic app
    Test user login

an bb-classic app login page
    Reload Page Until  Location should contain  login
    Page should contain  BB
    Title should be  BB

enter ${name} field
    Input Text  name=${name}  test

click on ${name} link in navbar
    Click link  xpath=//*[contains(@class,"navbar")]//a[contains(text(),${name})]

heading should be ${heading}
    Page should contain element  xpath=//h1[contains(text(),${heading})]